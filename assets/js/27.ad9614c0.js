(window.webpackJsonp=window.webpackJsonp||[]).push([[27],{413:function(t,s,e){"use strict";e.r(s);var a=e(1),n=Object(a.a)({},function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"content"},[t._m(0),t._v(" "),t._m(1),t._v(" "),t._m(2),t._v(" "),t._m(3),t._v(" "),t._m(4),t._v(" "),t._m(5),t._m(6),t._v(" "),t._m(7),t._v(" "),e("i-back-top")],1)},[function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"生命周期"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#生命周期","aria-hidden":"true"}},[this._v("#")]),this._v(" 生命周期")])},function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("ul",[e("li",[t._v("getDefaultProps: 设置组件的默认属性, 常用于子组件接收父组件传递的属性值为空时")]),t._v(" "),e("li",[t._v("getInitialState: 在 "),e("code",[t._v("createReactClass")]),t._v(" 中创建本身组件的 "),e("code",[t._v("state")]),t._v("值, 但如果使用 "),e("code",[t._v("class")]),t._v("创建组件时, 可使用"),e("code",[t._v("this.state={}")]),t._v(" 方法")]),t._v(" "),e("li",[t._v("componentWillMount: 组件还未挂载 "),e("code",[t._v("DOM")]),t._v(", 不推荐在此生命周期中请求数据, 本未挂载"),e("code",[t._v("dom")]),t._v(",此时请求,若返回数据为空, 导致页面显示空白")]),t._v(" "),e("li",[t._v("render: 创建虚拟"),e("code",[t._v("DOM")]),t._v(", 此时不能更新"),e("code",[t._v("state")]),t._v(", 进行"),e("code",[t._v("diff")]),t._v(" 算法")]),t._v(" "),e("li",[t._v("componentDidMount: 挂载"),e("code",[t._v("DOM")]),t._v(", 此时可以发送请求, 设置 "),e("code",[t._v("setState")]),t._v(", 重新触发 "),e("code",[t._v("render")]),t._v(",")]),t._v(" "),e("li",[t._v("componentWillReceiveProps: 接收一个参数 "),e("code",[t._v("nextProps")]),t._v(", 对比最新的 "),e("code",[t._v("props")]),t._v("值进行其他曹州, 此处可以使用 "),e("code",[t._v("setSate")])]),t._v(" "),e("li",[t._v("shouldComponentUpdate: 接收两个参数 "),e("code",[t._v("nextProps, nextState")]),t._v(", 可用于优化项目性能, 判断组件是否需要重新更新, 默认"),e("code",[t._v("return true")]),t._v(", 若不需要重新渲染则 "),e("code",[t._v("return false")])]),t._v(" "),e("li",[t._v("componentWillUpdate: 当 shouldComponentUpdate 返回 "),e("code",[t._v("true")]),t._v("时, 将进入重新渲染的过程, 此时可以拿到 "),e("code",[t._v("nextProps, nextState")])]),t._v(" "),e("li",[t._v("render: 将重新渲染组件, "),e("code",[t._v("16")]),t._v("版本可以允许返回 数组 和 字符串")]),t._v(" "),e("li",[t._v("componentDidUpdate: shouldComponentUpdate 返回 "),e("code",[t._v("false")]),t._v("时 不会进入此周期,")]),t._v(" "),e("li",[t._v("componentWillUnmout: 卸载组件, 此时需要将 计时器,监听事件销毁掉")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"setstate"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#setstate","aria-hidden":"true"}},[this._v("#")]),this._v(" setState")])},function(){var t=this.$createElement,s=this._self._c||t;return s("blockquote",[s("p",[this._v("不能使用 "),s("code",[this._v("this.setState({ s: this.state.s + this.props.s })")]),this._v(", setState 可能是异步合并, 但是不能保证"),s("code",[this._v("this.props")]),this._v(" 和 "),s("code",[this._v("this.state")]),this._v("的值为最新值, 应该使用")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("blockquote",[s("p",[this._v("不管在何处调用 "),s("code",[this._v("setState")]),this._v(", 或者是并没有修改 "),s("code",[this._v("state")]),this._v(" 中的值, 也将会进行重新渲染")])])},function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"language-js line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-js"}},[e("code",[e("span",{attrs:{class:"token keyword"}},[t._v("this")]),e("span",{attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{attrs:{class:"token function"}},[t._v("setState")]),e("span",{attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("prevState"),e("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" props"),e("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),e("span",{attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),e("span",{attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  s"),e("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" prevState"),e("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("s "),e("span",{attrs:{class:"token operator"}},[t._v("+")]),t._v(" props"),e("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("s\n"),e("span",{attrs:{class:"token punctuation"}},[t._v("}")]),e("span",{attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])]),t._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[t._v("1")]),e("br"),e("span",{staticClass:"line-number"},[t._v("2")]),e("br"),e("span",{staticClass:"line-number"},[t._v("3")]),e("br")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"其他"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#其他","aria-hidden":"true"}},[this._v("#")]),this._v(" 其他")])},function(){var t=this.$createElement,s=this._self._c||t;return s("ul",[s("li",[this._v("forceUpdate: 一般情况下,修改 state 和 props 的值是会进行重新渲染, 但是有时可能会有问题, 使用此方法将对组件进行强制渲染")]),this._v(" "),s("li",[this._v("defaultProps: 组件接收父组件设置的默认值")]),this._v(" "),s("li",[this._v("displayName: 不需要显示设置, 常用于调试信息,因为它是从定义组件的函数或类的名称推断出来的")])])}],!1,null,null,null);s.default=n.exports}}]);